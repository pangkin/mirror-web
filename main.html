<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="utf-8" />
  <link crossorigin="" href="https://fonts.gstatic.com/" rel="preconnect" />
  <link rel="stylesheet" as="style" crossorigin
    href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/variable/pretendardvariable-dynamic-subset.min.css" />
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
  <title>Pangkin Mirror</title>
  <link href="data:image/x-icon;base64," rel="icon" type="image/x-icon" />
  <link href="https://http.krfoss.org/.web/http.css" rel="stylesheet" />
  <link href="/tailwind.css" rel="stylesheet" />
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <style>
    .sync-status-text {
      font-size: 0.75rem;
      line-height: 1rem;
      color: #6B7281;
      margin-top: 0.25rem;
      text-align: center;
      height: 1rem;
    }

    /* 공지사항 팝업 스타일 */
    .notice-popup-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: rgba(0, 0, 0, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease, visibility 0.3s ease;
    }

    .notice-popup-overlay.active {
      opacity: 1;
      visibility: visible;
    }

    .notice-popup {
      background: white;
      border-radius: 1rem;
      max-width: 800px;
      width: 90%;
      max-height: 80vh;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
      transform: scale(0.9);
      transition: transform 0.3s ease;
    }

    .notice-popup-overlay.active .notice-popup {
      transform: scale(1);
    }

    .notice-popup-header {
      padding: 1.5rem;
      border-bottom: 1px solid #e5e7eb;
      border-top-left-radius: 1rem;
      border-top-right-radius: 1rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-shrink: 0;
    }

    .notice-popup-body {
      padding: 1.5rem;
      overflow-y: auto;
      flex: 1;
    }

    .notice-popup-close {
      cursor: pointer;
      color: #6b7280;
      transition: color 0.2s;
    }

    .notice-popup-close:hover {
      color: #111827;
    }

    .notice-badge {
      display: inline-flex;
      align-items: center;
      padding: 0.25rem 0.75rem;
      border-radius: 9999px;
      font-size: 0.75rem;
      font-weight: 600;
      color: white;
      margin-right: 0.5rem;
      margin-bottom: 0.5rem;
    }

    .notice-badge-scheduled {
      background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
    }

    .notice-badge-ongoing {
      background: linear-gradient(135deg, #10b981 0%, #059669 100%);
      animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    }

    .notice-badge-high {
      background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
    }

    .notice-badge-normal {
      background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
    }

    @keyframes pulse {

      0%,
      100% {
        opacity: 1;
      }

      50% {
        opacity: 0.7;
      }
    }

    .notice-content {
      line-height: 1.7;
      color: #374151;
    }

    .notice-content h1,
    .notice-content h2,
    .notice-content h3 {
      font-weight: 600;
      margin-top: 1rem;
      margin-bottom: 0.5rem;
      color: #111827;
    }

    .notice-content h2 {
      font-size: 1.25rem;
    }

    .notice-content h3 {
      font-size: 1.1rem;
    }

    .notice-content p {
      margin-bottom: 0.75rem;
    }

    .notice-content ul,
    .notice-content ol {
      margin-left: 1.5rem;
      margin-bottom: 0.75rem;
    }

    .notice-content li {
      margin-bottom: 0.25rem;
    }

    .notice-content strong {
      font-weight: 600;
      color: #111827;
    }
  </style>
</head>

<body class="bg-white">
  <div class="relative flex size-full min-h-screen flex-col bg-white group/design-root overflow-x-hidden"
    style='font-family: "Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, "Helvetica Neue", "Segoe UI", "Apple SD Gothic Neo", "Noto Sans KR", "Malgun Gothic", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;'>
    <div class="layout-container flex h-full grow flex-col">
      <header class="border-b border-solid border-gray-200 py-4">
        <div class="mx-auto flex max-w-7xl items-center justify-between whitespace-nowrap px-4 sm:px-6 lg:px-8">
          <a href="/">
            <div class="flex items-center gap-4 text-gray-900">
              <div class="size-8">
                <img alt="Pangkin Mirror Logo" class="h-full w-full" src="https://mirror.pangkin.com/asset/logo.png" />
              </div>
              <h2 class="text-gray-900 text-xl font-extrabold leading-tight tracking-[-0.015em]">Pangkin Mirror</h2>
            </div>
          </a>
          <div class="flex items-center gap-4">
            <a href="https://notice.mirror.pangkin.com"
              class="text-sm font-medium text-gray-500 hover:text-gray-900" data-i18n="nav.notice"><!-- 공지사항/Notice --></a>
            <button id="langToggle" class="text-sm font-medium text-gray-500 hover:text-gray-900"><!-- 언어 토글 버튼 --></button>
          </div>
        </div>
      </header>
      <main class="flex-1">
        <section class="relative py-16 md:py-20 lg:py-24 overflow-hidden"
          style="background: linear-gradient(180deg, #f8fafc 0%, #e2e8f0 100%);">
          <!-- Decorative elements -->
          <div class="absolute inset-0 opacity-30">
            <div
              style="position: absolute; top: 10%; left: 10%; width: 300px; height: 300px; background: radial-gradient(circle, rgba(99, 102, 241, 0.1) 0%, transparent 70%); border-radius: 50%;">
            </div>
            <div
              style="position: absolute; bottom: 10%; right: 10%; width: 400px; height: 400px; background: radial-gradient(circle, rgba(59, 130, 246, 0.1) 0%, transparent 70%); border-radius: 50%;">
            </div>
          </div>

          <div class="relative mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 text-center">
            <!-- Badge -->
            <div
              class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/80 backdrop-blur-sm border border-gray-200 shadow-sm mb-8">
              <span class="material-icons text-blue-600" style="font-size: 20px;">cloud_sync</span>
              <span class="text-sm font-medium text-gray-700" data-i18n="hero.badge"><!-- 배지 텍스트 --></span>
            </div>

            <h1 class="text-gray-900 text-5xl md:text-6xl lg:text-7xl font-extrabold leading-tight tracking-tight">
              <span
                style="background: linear-gradient(135deg, #1e293b 0%, #475569 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">Pangkin
                Mirror</span>
            </h1>

            <p class="mt-8 max-w-2xl mx-auto text-xl md:text-2xl text-gray-600 leading-relaxed" id="heroSubtitle">
              <!-- 히어로 서브타이틀: JavaScript에서 동적으로 삽입됩니다 -->
            </p>

            <div class="mt-12 flex flex-col sm:flex-row gap-4 justify-center items-center">
              <a class="inline-flex items-center justify-center gap-2 rounded-xl h-14 px-8 bg-gradient-to-r from-blue-600 to-blue-500 text-white text-lg font-semibold shadow-md shadow-blue-500/20 hover:shadow-lg hover:shadow-blue-500/30 hover:scale-105 transition-all duration-200"
                href="#available-mirrors">
                <span data-i18n="hero.btnStart"><!-- 시작하기 버튼 --></span>
                <span class="material-icons" style="font-size: 20px;">arrow_forward</span>
              </a>
              <a class="inline-flex items-center justify-center gap-2 rounded-xl h-14 px-8 bg-white text-gray-700 text-lg font-semibold border-2 border-gray-200 hover:border-gray-300 hover:bg-gray-50 transition-all duration-200"
                href="#about-project">
                <span class="material-icons" style="font-size: 20px;">info</span>
                <span data-i18n="hero.btnAbout"><!-- 프로젝트 소개 버튼 --></span>
              </a>
            </div>

            <!-- Statistics -->
            <div class="mt-20 grid grid-cols-3 gap-8 max-w-3xl mx-auto">
              <div class="p-6 rounded-2xl bg-white/80 backdrop-blur-sm border border-gray-200 shadow-lg">
                <div class="text-3xl font-bold text-gray-900">24/7</div>
                <div class="mt-2 text-sm text-gray-600" data-i18n="hero.stat1"><!-- 가동 시간 --></div>
              </div>
              <div class="p-6 rounded-2xl bg-white/80 backdrop-blur-sm border border-gray-200 shadow-lg">
                <div class="text-3xl font-bold text-gray-900">1Gbps</div>
                <div class="mt-2 text-sm text-gray-600" data-i18n="hero.stat2"><!-- 다운로드 속도 --></div>
              </div>
              <div class="p-6 rounded-2xl bg-white/80 backdrop-blur-sm border border-gray-200 shadow-lg">
                <div class="text-3xl font-bold text-gray-900" data-i18n="hero.stat3Value"><!-- 안정/Stable --></div>
                <div class="mt-2 text-sm text-gray-600" data-i18n="hero.stat3"><!-- 우선 서비스 --></div>
              </div>
            </div>
          </div>
        </section>

        <section id="about-project" class="py-16 sm:py-24 bg-white">
          <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
            <div class="text-center">
              <h2 class="text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl" data-i18n="about.title"><!-- 프로젝트 소개 --></h2>
              <p class="mt-4 text-lg text-gray-600 max-w-3xl mx-auto leading-relaxed" data-i18n="about.description">
                <!-- 프로젝트 설명 -->
              </p>
            </div>
            <div class="mt-16 grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3">
              <div
                class="rounded-2xl border border-gray-200 bg-gray-50 p-8 text-center hover:bg-white hover:shadow-lg transition-all duration-200">
                <div
                  class="inline-flex h-16 w-16 items-center justify-center rounded-2xl bg-gradient-to-br from-blue-500 to-blue-600 text-white shadow-lg shadow-blue-500/30">
                  <span class="material-icons text-4xl">group_work</span>
                </div>
                <h3 class="mt-6 text-xl font-bold text-gray-900" data-i18n="about.feature1Title"><!-- 커뮤니티 중심 --></h3>
                <p class="mt-3 text-base text-gray-600 leading-relaxed" data-i18n="about.feature1Desc">
                  <!-- 특징 1 설명 -->
                </p>
              </div>
              <div
                class="rounded-2xl border border-gray-200 bg-gray-50 p-8 text-center hover:bg-white hover:shadow-lg transition-all duration-200">
                <div
                  class="inline-flex h-16 w-16 items-center justify-center rounded-2xl bg-gradient-to-br from-blue-500 to-blue-600 text-white shadow-lg shadow-blue-500/30">
                  <span class="material-icons text-4xl">volunteer_activism</span>
                </div>
                <h3 class="mt-6 text-xl font-bold text-gray-900" data-i18n="about.feature2Title"><!-- 비영리 --></h3>
                <p class="mt-3 text-base text-gray-600 leading-relaxed" data-i18n="about.feature2Desc">
                  <!-- 특징 2 설명 -->
                </p>
              </div>
              <div
                class="rounded-2xl border border-gray-200 bg-gray-50 p-8 text-center hover:bg-white hover:shadow-lg transition-all duration-200">
                <div
                  class="inline-flex h-16 w-16 items-center justify-center rounded-2xl bg-gradient-to-br from-blue-500 to-blue-600 text-white shadow-lg shadow-blue-500/30">
                  <span class="material-icons text-4xl">sync</span>
                </div>
                <h3 class="mt-6 text-xl font-bold text-gray-900" data-i18n="about.feature3Title"><!-- 최신 상태 유지 --></h3>
                <p class="mt-3 text-base text-gray-600 leading-relaxed" data-i18n="about.feature3Desc">
                  <!-- 특징 3 설명 -->
                </p>
              </div>
            </div>
          </div>
        </section>

        <section id="available-mirrors" class="py-16 sm:py-24 bg-gray-50 scroll-mt-16">
          <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
            <div class="text-center">
              <h2 class="text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl" data-i18n="repos.title"><!-- 저장소 목록 --></h2>
              <p class="mt-4 text-lg text-gray-600" data-i18n="repos.description"><!-- 저장소 설명 --></p>
              <p class="mt-2 text-base text-gray-600">
                <span data-i18n="repos.serverAddress"><!-- 서버 주소: --></span> <a class="text-blue-600 hover:text-blue-700 font-semibold hover:underline"
                  href="https://mirror.pangkin.com">https://mirror.pangkin.com</a>
              </p>
            </div>
            <div id="repositoryGrid" class="mt-12 grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3">
              <!-- 저장소 카드들이 JavaScript에서 동적으로 생성됩니다 -->
            </div>
          </div>
        </section>

        <section class="py-16 sm:py-24 bg-white">
          <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
            <div class="text-center">
              <h2 class="text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl" data-i18n="contact.title"><!-- 연락하기 --></h2>
              <p class="mt-4 text-lg text-gray-600 max-w-3xl mx-auto leading-relaxed" data-i18n="contact.description">
                <!-- 연락처 설명 -->
              </p>
              <div class="mt-12 grid grid-cols-1 gap-8 md:grid-cols-2 max-w-5xl mx-auto">
                <div
                  class="rounded-2xl border border-gray-200 bg-gray-50 p-8 text-left hover:shadow-lg hover:bg-white transition-all duration-200">
                  <div class="flex items-center gap-4">
                    <div
                      class="inline-flex h-14 w-14 items-center justify-center rounded-2xl bg-gradient-to-br from-blue-500 to-blue-600 text-white shadow-lg shadow-blue-500/30">
                      <span class="material-icons text-3xl">email</span>
                    </div>
                    <h3 class="text-2xl font-bold text-gray-900" data-i18n="contact.emailTitle"><!-- 이메일 --></h3>
                  </div>
                  <p class="mt-4 text-lg text-gray-600" data-i18n="contact.emailDesc">
                    <!-- 이메일 설명 -->
                  </p>
                  <a class="mt-6 inline-block text-lg text-blue-600 hover:underline"
                    href="mailto:contact@pangkin.com">contact@pangkin.com</a>
                </div>
                <div
                  class="rounded-2xl border border-gray-200 bg-gray-50 p-8 text-left hover:shadow-lg hover:bg-white transition-all duration-200">
                  <div class="flex items-center gap-4">
                    <div
                      class="inline-flex h-14 w-14 items-center justify-center rounded-2xl bg-gradient-to-br from-blue-500 to-blue-600 text-white shadow-lg shadow-blue-500/30">
                      <svg class="h-7 w-7" fill="currentColor" viewBox="0 0 24 24"
                        xmlns="http://www.w3.org/2000/svg">
                        <path
                          d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z">
                        </path>
                      </svg>
                    </div>
                    <h3 class="text-2xl font-bold text-gray-900">GitHub</h3>
                  </div>
                  <p class="mt-4 text-lg text-gray-600" data-i18n="contact.githubDesc">
                    <!-- GitHub 설명 -->
                  </p>
                  <a class="mt-6 inline-block text-lg text-blue-600 hover:underline" href="https://github.com/pangkin"
                    target="_blank">https://github.com/pangkin</a>
                </div>
              </div>
            </div>
          </div>
        </section>

        <section class="py-16 sm:py-24 bg-gray-50">
          <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
            <div class="text-center">
              <h2 class="mb-4 text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl" data-i18n="rokfoss.title"><!-- ROKFOSS 프로젝트 참여 --></h2>
              <p class="text-lg text-gray-600 max-w-4xl mx-auto leading-relaxed" data-i18n="rokfoss.description">
                <!-- ROKFOSS 설명 -->
              </p>
              <div class="mt-8">
                <a class="inline-flex items-center justify-center gap-2 rounded-xl h-14 px-8 bg-gradient-to-r from-blue-600 to-blue-500 text-white text-lg font-semibold shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40 hover:scale-[1.02] transition-all duration-200"
                  href="https://krfoss.org/" target="_blank" rel="noopener noreferrer">
                  <span data-i18n="rokfoss.button"><!-- ROKFOSS 알아보기 --></span>
                  <span class="material-icons" style="font-size: 20px;">open_in_new</span>
                </a>
              </div>
            </div>
          </div>
        </section>
      </main>
      <footer class="border-t border-solid border-gray-200 bg-white">
        <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pt-8 pb-4">
          <div class="flex items-center justify-center">
            <p class="text-gray-500 text-base font-normal leading-normal">© 2025 Pangkin. All rights reserved.
            </p>
          </div>
        </div>
      </footer>
    </div>
  </div>

  <!-- 공지사항 팝업 -->
  <div id="noticePopupOverlay" class="notice-popup-overlay">
    <div class="notice-popup">
      <div class="notice-popup-header">
        <h3 class="text-lg font-bold text-gray-900" data-i18n="notice.title"><!-- 공지사항 --></h3>
        <span class="notice-popup-close material-icons" onclick="closeNoticePopup()">close</span>
      </div>
      <div id="noticePopupBody" class="notice-popup-body">
        <!-- 공지사항 내용이 JavaScript에서 동적으로 표시됩니다 -->
      </div>
    </div>
  </div>

  <!-- 언어 관련 스크립트 -->
  <script src="/i18n.js"></script>

  <!-- 동기화 상태 관련 스크립트 -->
  <script src="/sync-status.js"></script>

  <script>
    // ==================== 공지사항 팝업 ====================
    async function loadActiveNotices() {
      try {
        const response = await fetch('https://notice.mirror.pangkin.com/notices.json');
        const notices = await response.json();

        const activeNotices = notices.filter(notice =>
          notice.status === 'scheduled' || notice.status === 'ongoing'
        );

        if (activeNotices.length > 0) {
          showNoticePopup(activeNotices);
        }
      } catch (error) {
        console.error('Failed to load notices:', error);
      }
    }

    function showNoticePopup(notices) {
      const statusLabels = {
        ko: { scheduled: '예정', ongoing: '진행 중' },
        en: { scheduled: 'Scheduled', ongoing: 'Ongoing' }
      };

      const statusBadgeClass = {
        scheduled: 'notice-badge-scheduled',
        ongoing: 'notice-badge-ongoing'
      };

      const priorityLabels = {
        ko: { high: '중요', normal: '일반', low: '참고' },
        en: { high: 'Important', normal: 'Normal', low: 'Info' }
      };

      const priorityBadgeClass = {
        high: 'notice-badge-high',
        normal: 'notice-badge-normal'
      };

      const popupBody = document.getElementById('noticePopupBody');

      popupBody.innerHTML = notices.map(notice => {
        const date = new Date(notice.date);
        const formattedDate = date.toLocaleDateString(currentLang === 'ko' ? 'ko-KR' : 'en-US', {
          year: 'numeric',
          month: 'long',
          day: 'numeric'
        });

        return `
          <div style="margin-bottom: ${notices.length > 1 ? '2rem' : '0'}; ${notices.length > 1 ? 'padding-bottom: 2rem; border-bottom: 1px solid #e5e7eb;' : ''}">
            <div style="margin-bottom: 0.75rem;">
              <span class="notice-badge ${priorityBadgeClass[notice.priority]}">${priorityLabels[currentLang][notice.priority]}</span>
              <span class="notice-badge ${statusBadgeClass[notice.status]}">${statusLabels[currentLang][notice.status]}</span>
            </div>
            <h2 style="font-size: 1.5rem; font-weight: 700; color: #111827; margin-bottom: 0.5rem;">${notice.title}</h2>
            <p style="font-size: 0.875rem; color: #6b7280; margin-bottom: 1rem;">
              <span class="material-icons" style="font-size: 14px; vertical-align: middle;">event</span>
              ${formattedDate} · ${notice.author}
            </p>
            <div class="notice-content">
              ${notice.content}
            </div>
          </div>
        `;
      }).join('');

      const overlay = document.getElementById('noticePopupOverlay');
      overlay.classList.add('active');
    }

    function closeNoticePopup() {
      const overlay = document.getElementById('noticePopupOverlay');
      overlay.classList.remove('active');
    }

    // 팝업 외부 클릭 시 닫기
    document.getElementById('noticePopupOverlay')?.addEventListener('click', function (e) {
      if (e.target === this) {
        closeNoticePopup();
      }
    });

    // ==================== 초기화 ====================
    document.addEventListener('DOMContentLoaded', function () {
      // 언어 초기화 (i18n.js에서 가져온 함수)
      initLanguage();
      
      // 공지사항 로드
      loadActiveNotices();
      
      // 상태 업데이트 주기적으로 실행 (sync-status.js에서 가져온 함수)
      startStatusUpdater();
    });
  </script>
</body>

</html>
